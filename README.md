# Telegram Gift Finder

Скрипт для поиска пользователей с определенными подарками в Telegram. Скрипт может работать в двух режимах:
1. Проверка подарков у одного пользователя
2. Поиск пользователей с подарками в группе

## Установка

1. Установите зависимости:
```bash
pip3 install -r requirements.txt
```

2. Создайте файл `.env` и заполните его:
```
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_PHONE=your_phone_number
```

## Получение API ключей

1. Перейдите на https://my.telegram.org/auth
2. Войдите в свой аккаунт
3. Перейдите в "API development tools"
4. Создайте новое приложение
5. Скопируйте `api_id` и `api_hash`

## Использование

Запустите скрипт:
```bash
python3 mtproto_gift_finder.py
```

### Режим 1: Проверка подарков у одного пользователя
1. Выберите режим 1
2. Введите username пользователя (без @)
3. Скрипт покажет список подарков пользователя, которые соответствуют формату (название состоит только из букв и пробелов)

### Режим 2: Поиск подарков в группе
1. Выберите режим 2
2. Введите ID группы (например, -1001905581924) или ссылку на группу
3. Скрипт проверит всех участников группы и покажет список пользователей, у которых есть подарки нужного формата

### Режим 3: Просмотр списка подарков
1. Выберите режим 3
2. Скрипт покажет полный список доступных подарков с их ID

## Формат подарков

Скрипт ищет подарки, названия которых состоят только из букв и пробелов. Например:
- Star Notepad
- Tama Gadget

## Особенности

- Работает с MTProto API Telegram
- Поддерживает как ID групп, так и ссылки на группы
- Показывает только подарки нужного формата
- Не требует задержек между запросами
- Обрабатывает ошибки и продолжает работу даже при проблемах с отдельными пользователями
- Многопоточная обработка для ускорения поиска в группах
- Оптимизированное получение списка участников (до 200 участников за запрос), напишите в тг @litram, если надо больше
- Ограничение одновременных запросов к API для предотвращения блокировок
- Поддержка всех типов подарков Telegram

## Оптимизации

- Параллельная проверка подарков у разных пользователей
- Увеличенный лимит получения участников группы
- Эффективная обработка ошибок без остановки всего процесса
- Семафор для контроля количества одновременных запросов
- Оптимизированная работа с API Telegram

## Планы по улучшению

### Скорость работы
- Добавление кэширования результатов для повторных запросов
- Оптимизация работы с большими группами (более 1000 участников)
- Возможность сохранения прогресса при поиске в больших группах
- Распределенная обработка запросов между несколькими аккаунтами

### Функциональность
- Добавление фильтрации по дате получения подарка
- Возможность поиска по нескольким подаркам одновременно
- Экспорт результатов в различные форматы (CSV, JSON, Excel)
- Веб-интерфейс для удобного управления поиском
- API для интеграции с другими сервисами

### Удобство использования
- Интерактивный режим с подсказками
- Возможность сохранения часто используемых поисковых запросов
- Уведомления о завершении длительных операций
- Детальная статистика по результатам поиска
- Возможность настройки форматов вывода

### Безопасность
- Улучшенная система ротации API ключей
- Защита от блокировок и ограничений Telegram
- Система логирования для отслеживания проблем
- Возможность настройки прокси для обхода ограничений

## Поддержка

Если у вас есть предложения по улучшению или вы хотите увеличить лимиты работы скрипта, напишите в Telegram: @litram 